# Every workflow definition must start with a 'manifest' as 1st step, which follows the following schema:

-
    type: workflow
    signal: XXXService\YYYSignal # See the complete list at https://doc.ez.no/display/EZP/Signals+reference
    run_as: admin # Optional. If not set or false, the workflow will execute as the current user. If set, as the user specified here
    transaction: false # Optional. If set to true, the whole workflow will execute within a database transaction
    avoid_recursion: false # Optional. If set to true, the workflow will not trigger when the signal is generated by another workflow

# Other steps include *all* steps which are valid in a Migration from the Kaliop Migration Bundle, plus the following:

-
    # Cancel execution of a workflow: all steps following the current one will not be executed.
    # The workflow will show up as 'executed' when checking ist status
    type: workflow
    mode: cancel
    message: string # Optional. Will be part of the migration status stored in the database
    if: # Optional. If set, the workflow will be halted when the condition is matched
        "reference:_ref_name": # name of a reference to be used for the test
            _operator_: value # allowed operators: eq, gt, gte, lt, lte, ne, count, length, regexp
    unless: # Optional. If set, the workflow will be halted when the condition is *not* matched
        "reference:_ref_name": # name of a reference to be used for the test
            _operator_: value # allowed operators: eq, gt, gte, lt, lte, ne, count, length, regexp


# The data from the Signal which triggers the workflow is made available as references
# The name of the references is prefixed with 'signal:' and converted to snake case.
# eg. the contentId of a content being published will be available as 'reference:signal:object_id'
# The list of the properties available for each Signal is available at https://doc.ez.no/display/EZP/Signals+reference
